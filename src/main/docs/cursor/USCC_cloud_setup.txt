Production Server
Group

Property

Value

S3 Storage

AWS Account

S3 Region

S3 Bucket

Home Directory Prefix

631917821459 (Prod)

us-east-2 (Ohio)

kredos-uscellular-production

/kredos-uscellular-production

Route 53 

SFTP CNAME

//TODO - add link to all USCC DNS Names

sftp.uscc.kredosai.com

S3 Access

AWS User (for SFTPCloud Storage)

AWS Access Key 

AWS Secret Key

AWS Policy

sftpcloud-kredos-uscellular-production

AKIAZGIJ4XYJ2MHQ5N77

*** in 
Kredos Vault ***


kredos-uscellular-production
SFTP Cloud Server

SFTP Instance name

SFTP Cloud Host

SFTP Activity Listener

sftpcloud-uscc

kredosai.us-east-1.sftpcloud.io

None

SFTP User

kredos-uscellular-production-sftp

 

See 
Kredos Vault for …

PGP Public Key sent by USCC with its Passphrase

SSH Public Key in SSH2 format sent by USCC

for Kredos testing - SSH RSA Public and Private Keypair (connected to this same user on SFTP Cloud)

Staging Server
Group

Property

Value

S3 Storage

AWS Account

S3 Region

S3 Bucket

Home Directory Prefix

233381479059 (Demo)

us-east-2 (Ohio)

kredos-uscellular-demo

/kredos-uscellular-demo

Route 53 

SFTP CNAME

//TODO - add link to all USCC DNS Names

sftp-staging.uscc.kredosai.com

S3 Access

AWS User (for SFTPCloud Storage)

AWS Access Key 

AWS Secret Key

AWS Policy

sftpcloud-kredos-uscellular-demo

AKIATMVU6YKJ4Z3QXPPP

*** in 
Kredos Vault ***


kredos-uscellular-demo
SFTP Cloud Server

SFTP Instance name

SFTP Cloud Host

SFTP Activity Listener

sftpcloud-uscc-demo

kredosai.us-east-1.sftpcloud.io

Activity email → send logs to inder@kredosai.com 

SFTP User

kredos-uscellular-demo-sftp

 

See 
Kredos Vault for …

PGP Public Key sent by USCC with its Passphrase

SSH Public Key in SSH2 format sent by USCC

for Kredos testing - SSH RSA Public and Private Keypair (connected to this same user on SFTP Cloud)

Notes
Encrypt file using the pgp key
Import the pub key into the keyring: % gpg --import KREDOS_PGP_KEY.asc

List the keys: % gpg --list-keys

Encrypt using the key id: 



% gpg --output test_message.txt.gpg --encrypt --recipient 83797146E810D9F517F9BEAE97956C544D912503 test_message.txt
 

Decrypt file using the pgp key
First verify the version of GPG installed on the system and the approprivate PRIVATE key file has been imported. 



$ gpg --version
gpg (GnuPG) 2.2.43
libgcrypt 1.10.3
Copyright (C) 2023 g10 Code GmbH
License GNU GPL-3.0-or-later <https://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
Home: /Users/home/.gnupg
Supported algorithms:
Pubkey: RSA, ELG, DSA, ECDH, ECDSA, EDDSA
Cipher: IDEA, 3DES, CAST5, BLOWFISH, AES, AES192, AES256, TWOFISH,
        CAMELLIA128, CAMELLIA192, CAMELLIA256
Hash: SHA1, RIPEMD160, SHA256, SHA384, SHA512, SHA224
Compression: Uncompressed, ZIP, ZLIB, BZIP2


$ gpg --list-keys
<path-to-file>/pubring.kbx
------------------------------
pub   rsa4096 2024-05-19 [SC] [expires: 2026-05-19]
      6B216185628EE1EDCDAD2A25FD3B480194DA1A54
uid           [ultimate] ravi vayuvegula (pgp keys for USCellular production environment) <ravi@kredosai.com>
sub   rsa4096 2024-05-19 [E] [expires: 2026-05-19]
Use the --decrypt command to decrypt the files. Normally, the output of decrypt will printed on the screen, use --output to save to a different file. Note that output must be specified before the decrypt command.

Use --pinentry-mode loopback --batch --passphrase XYZ to run in non-interactive mode, example…



gpg --pinentry-mode loopback --batch --passphrase XYZ \
    --output decrypted_file.csv \
    --decrypt KAI_USCC_Kredos_data_202406201624.csv.pgp
The passphrase for the private file is saved in 
Kredos Vault  along with the actual public/private keypair.

 

Convert SSH public key to RSA format
Notes: The SSH public key was in SSH2 format, we need it to be in a OpenSSH RSA format for SFTP.

Here’s how you can convert your SSH2 key to the OpenSSH format:

Remove the header and footer lines (---- BEGIN SSH2 PUBLIC KEY ---- and ---- END SSH2 PUBLIC KEY ----).

Remove the comment line (Comment: "").

Join all lines into a single line.

Add the key type and a comment at the beginning (e.g., ssh-rsa).

 

Add label
Related content


SFTP Cloud
Docs
More like this
TEST SFTP Cloud Setup
Docs
More like this
USCC - Data Exchange
Docs
More like this
USCC Pre-Launch Checklist
Docs
Read with this
File exchange protocol
Docs
More like this
DEV-468 Create new TEST env in AWS

"Issue Type","Summary","Test Type","Gherkin","Labels"
"Test","Fetch report with flag=true (MongoDB)","Cucumber","Feature: Flag-Based Fetching Logic for Communication Reports (Email Case) [Read-Only]\n  Background:\n    Given the API endpoint is \"https://jlyfljojpe.execute-api.us-east-2.amazonaws.com/uscc-dev/report\"\n    And the request body contains \"customer\" as \"USCC\" and valid \"startDate\" and \"endDate\"\n  Scenario: Fetch report with flag=true (MongoDB)\n    Given the Lambda flag is set to true\n    When I request an email report with commType \"sms\"\n    Then the response should contain \"chartdata\" and \"cumulativedata\"\n    And the data should be fetched from MongoDB","DEV-1000"
"Test","Fetch report with flag=false (PSQL)","Cucumber","Feature: Flag-Based Fetching Logic for Communication Reports (Email Case) [Read-Only]\n  Background:\n    Given the API endpoint is \"https://jlyfljojpe.execute-api.us-east-2.amazonaws.com/uscc-dev/report\"\n    And the request body contains \"customer\" as \"USCC\" and valid \"startDate\" and \"endDate\"\n  Scenario: Fetch report with flag=false (PSQL)\n    Given the Lambda flag is set to false\n    When I request an email report with commType \"sms\"\n    Then the response should contain \"chartdata\" and \"cumulativedata\"\n    And the data should be fetched from PSQL","DEV-1000"
"Test","Flag change and redeploy switches data source","Cucumber","Feature: Flag-Based Fetching Logic for Communication Reports (Email Case) [Read-Only]\n  Background:\n    Given the API endpoint is \"https://jlyfljojpe.execute-api.us-east-2.amazonaws.com/uscc-dev/report\"\n    And the request body contains \"customer\" as \"USCC\" and valid \"startDate\" and \"endDate\"\n  Scenario: Flag change and redeploy switches data source\n    Given the Lambda flag is set to true\n    When I request an email report with commType \"sms\"\n    Then the data should be fetched from MongoDB\n    When the Lambda flag is changed to false and redeployed\n    And I request an email report with commType \"sms\"\n    Then the data should be fetched from PSQL","DEV-1000"
"Test","Data integrity between MongoDB and PSQL for the same record","Cucumber","Feature: Flag-Based Fetching Logic for Communication Reports (Email Case) [Read-Only]\n  Background:\n    Given the API endpoint is \"https://jlyfljojpe.execute-api.us-east-2.amazonaws.com/uscc-dev/report\"\n    And the request body contains \"customer\" as \"USCC\" and valid \"startDate\" and \"endDate\"\n  Scenario: Data integrity between MongoDB and PSQL for the same record\n    Given the same report exists in both MongoDB and PSQL\n    When I request the report with flag=true and with flag=false\n    Then the response data from both sources should be consistent","DEV-1000"
"Test","Response contains all required fields","Cucumber","Feature: Flag-Based Fetching Logic for Communication Reports (Email Case) [Read-Only]\n  Background:\n    Given the API endpoint is \"https://jlyfljojpe.execute-api.us-east-2.amazonaws.com/uscc-dev/report\"\n    And the request body contains \"customer\" as \"USCC\" and valid \"startDate\" and \"endDate\"\n  Scenario: Response contains all required fields\n    When I request an email report with commType \"sms\"\n    Then the response \"chartdata\" should contain fields \"total\", \"delivered\", \"pending\", \"undelivered\", \"carrierError\", \"unreachable\", \"changed\"","DEV-1000"
"Test","Migration - old data in MongoDB, new data in PSQL","Cucumber","Feature: Flag-Based Fetching Logic for Communication Reports (Email Case) [Read-Only]\n  Background:\n    Given the API endpoint is \"https://jlyfljojpe.execute-api.us-east-2.amazonaws.com/uscc-dev/report\"\n    And the request body contains \"customer\" as \"USCC\" and valid \"startDate\" and \"endDate\"\n  Scenario: Migration - old data in MongoDB, new data in PSQL\n    Given a report created before migration exists in MongoDB\n    And a report created after migration exists in PSQL\n    When I request the old report with flag=true\n    Then the data should be fetched from MongoDB\n    When I request the new report with flag=false\n    Then the data should be fetched from PSQL","DEV-1000" 